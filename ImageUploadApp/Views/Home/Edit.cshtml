@model ImageUploadApp.Models.ImageTextModel


<h2>Edit Upload</h2>



<!--form for editing text and optionally updating the image -->
<form asp-controller="Home" asp-action="Edit" method="post" enctype="multipart/form-data">

    <!--hidden fields to retain ID values -->
    <input type="hidden" asp-for="Id" />
    <input type="hidden" asp-for="ImageId" />

    <div class="form-group">
        <!--field for editing text -->
        <label for="Text">Text</label>
        <input type="text" asp-for="Text" class="form-control" required />
    </div>

    <div class="form-group">
        <!--input for uploading a new image -->
        <label for="ImageFile">Upload New Image</label>
        <input type="file" asp-for="ImageFile" class="form-control" accept="image/*" />
    </div>

    <div>
        <!--display the existing image if available -->
        @if (!string.IsNullOrEmpty(Model.ImageId))
        {
            <a href="@Url.Action("GetImage", "Home", new { id = Model.ImageId })" target="_blank">
                <img src="@Url.Action("GetImage", "Home", new { id = Model.ImageId })" width="200" style="object-fit: cover; border: 1px solid #ddd; border-radius: 5px; padding: 5px;" />
            </a>
        }
    </div>

   
    <button type="submit" class="btn btn-primary">Save Changes</button>
</form>


<a href="@Url.Action("ViewUploads", "Home")" class="btn btn-secondary">Back to Uploads</a>
